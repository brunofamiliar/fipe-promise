!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define(t):(e="undefined"!=typeof globalThis?globalThis:e||self).fipe=t()}(this,function(){"use strict";function t(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};return{name:"FipePromiseError",message:e.message,type:e.type,errors:e.errors}}var e,n=(e=Object.freeze({__proto__:null,default:function(a,i){return i=i||{},new Promise(function(e,t){var n=new XMLHttpRequest,r=[],o=[],s={};for(var c in n.open(i.method||"get",a,!0),n.onload=function(){n.getAllResponseHeaders().replace(/^(.*?):[^\S\n]*([\s\S]*?)$/gm,function(e,t,n){r.push(t=t.toLowerCase()),o.push([t,n]),s[t]=s[t]?s[t]+","+n:n}),e(function e(){return{ok:2==(n.status/100|0),statusText:n.statusText,status:n.status,url:n.responseURL,text:function(){return Promise.resolve(n.responseText)},json:function(){return Promise.resolve(JSON.parse(n.responseText))},blob:function(){return Promise.resolve(new Blob([n.response]))},clone:e,headers:{keys:function(){return r},entries:function(){return o},get:function(e){return s[e.toLowerCase()]},has:function(e){return e.toLowerCase()in s}}}}())},n.onerror=t,n.withCredentials="include"==i.credentials,i.headers)n.setRequestHeader(c,i.headers[c]);n.send(i.body||null)})}}))&&e.default||e,s=window.fetch||(window.fetch=n.default||n),c="https://parallelum.com.br/fipe/api/v1/",a={"Content-Type":"application/json","cache-control":"no-cache"},i=function(e){if(e.ok)return e.json();throw t({message:"Connection Error with parallelum.com.br",errors:[{url:e.url,status:e.status,statusText:e.statusText}]})},u=function(e){throw t(e)},d=function(e){throw t({message:e,type:"MISSING_ARGUMENTS"})},r=function(e){e||d("vehicleType is required");var t="".concat(c).concat(e,"/marcas");return s(t,{headers:a}).then(i).catch(u)},o=function(e,t){e||d("vehicleType is required"),t||d("brandId is required");var n="".concat(c).concat(e,"/marcas/").concat(t,"/modelos");return s(n,{headers:a}).then(i).then(function(e){return e.modelos}).catch(u)},f=function(e,t,n){e||d("vehicleType is required"),t||d("brandId is required"),n||d("modelId is required");var r="".concat(c).concat(e,"/marcas/").concat(t,"/modelos/").concat(n,"/anos");return s(r,{headers:a}).then(i).catch(u)},l=function(e,t,n,r){e||d("vehicleType is required"),t||d("brandId is required"),n||d("modelId is required"),r||d("yearId is required");var o="".concat(c).concat(e,"/marcas/").concat(t,"/modelos/").concat(n,"/anos/").concat(r);return s(o,{headers:a}).then(i).catch(u)};return{fetchBrands:function(e){return r(e)},fetchModels:function(e,t){return o(e,t)},fetchYears:function(e,t,n){return f(e,t,n)},fetchDetail:function(e,t,n,r){return l(e,t,n,r)},vehicleType:{TRUCKS:"caminhoes",CARS:"carros",MOTORCYCLES:"motos"}}});